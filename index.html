<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Chain Scanner</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/css/uikit.min.css" />
    <!-- Custom Styles -->
    <style>
        body { font-family: Arial, Helvetica, sans-serif; }
        .uk-table td, .uk-table th { padding: 8px; font-size: 12px; }
        .uk-badge-success { background-color: #32d296; }
    </style>
</head>
<body>

<div class="uk-container uk-margin-top">

    <!-- Header -->
    <div class="uk-card uk-card-default uk-card-body uk-margin-bottom">
        <div class="uk-flex uk-flex-between uk-flex-middle">
            <h1 class="uk-card-title">Scanner Dashboard</h1>
            <div>
                <button id="start-scan-btn" class="uk-button uk-button-primary">Start Scan</button>
                <button id="stop-scan-btn" class="uk-button uk-button-danger">Stop Scan</button>
                <button id="settings-btn" class="uk-button uk-button-default" uk-toggle="target: #modal-settings">Settings</button>
            </div>
        </div>
    </div>

    <!-- Main Grid -->
    <div class="uk-grid-divider uk-child-width-expand@m" uk-grid>

        <!-- Left Column: Tokens & Gas -->
        <div>
            <!-- Tokens Table -->
            <div class="uk-card uk-card-default uk-card-body uk-margin-bottom">
                <h3 class="uk-card-title">Token List</h3>
                <div class="uk-overflow-auto">
                    <table class="uk-table uk-table-hover uk-table-striped uk-table-small">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Pair</th>
                                <th>Chain</th>
                                <th>Selected CEXs</th>
                                <th>Selected DEXs</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="token-table-body">
                            <!-- Token rows will be rendered here by ui.js -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Gas Fees Table -->
            <div class="uk-card uk-card-default uk-card-body">
                 <h3 class="uk-card-title">Gas Fees</h3>
                <div class="uk-overflow-auto">
                    <table class="uk-table uk-table-hover uk-table-striped uk-table-small">
                        <thead>
                            <tr>
                                <th>Chain</th>
                                <th>Gas Price (Gwei)</th>
                                <th>Token Price (USD)</th>
                                <th>Est. Fee (USD)</th>
                            </tr>
                        </thead>
                        <tbody id="gas-fees-table-body">
                            <!-- Gas fee rows will be rendered here by ui.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Right Column: History -->
        <div>
            <div class="uk-card uk-card-default uk-card-body">
                <div class="uk-flex uk-flex-between uk-flex-middle">
                    <h3 class="uk-card-title">History Log</h3>
                    <button id="clear-history-btn" class="uk-button uk-button-text uk-text-danger">Clear History</button>
                </div>
                <div id="history-log" class="uk-height-large uk-overflow-auto uk-padding-small" style="border: 1px solid #e5e5e5; border-radius: 4px;">
                    <!-- History entries will be rendered here by ui.js -->
                </div>
            </div>
        </div>

    </div>
</div>


<!-- Settings Modal -->
<div id="modal-settings" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title">Scanner Settings</h2>
        <form id="settings-form">
            <fieldset class="uk-fieldset">

                <div class="uk-margin">
                    <label class="uk-form-label" for="nickname">Nickname</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="nickname" type="text" placeholder="Your nickname">
                    </div>
                </div>

                <div class="uk-margin">
                    <label class="uk-form-label" for="walletMeta">Wallet Address</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="walletMeta" type="text" placeholder="0x...">
                    </div>
                </div>

                <div class="uk-margin">
                    <label class="uk-form-label" for="filterPNL">Filter PNL ($)</label>
                    <div class="uk-form-controls">
                        <input class="uk-input" id="filterPNL" type="number" value="2">
                    </div>
                </div>

                <div class="uk-grid-small" uk-grid>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="jedaTimeGroup">Jeda per Group (ms)</label>
                        <input class="uk-input" id="jedaTimeGroup" type="number" value="500">
                    </div>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="jedaKoin">Jeda per Koin (ms)</label>
                        <input class="uk-input" id="jedaKoin" type="number" value="500">
                    </div>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="scanPerKoin">Scan per Group</label>
                        <input class="uk-input" id="scanPerKoin" type="number" value="5">
                    </div>
                    <div class="uk-width-1-2@s">
                        <label class="uk-form-label" for="speedScan">Speed Scan Multiplier</label>
                        <input class="uk-input" id="speedScan" type="number" value="2">
                    </div>
                </div>

                <div class="uk-margin">
                    <label class="uk-form-label">Chains</label>
                    <div id="chains-container" class="uk-form-controls uk-grid-small" uk-grid>
                        <!-- Chain checkboxes rendered by ui.js -->
                    </div>
                </div>

                <!-- Placeholders for CEX/DEX jeda inputs -->
                <div id="jeda-cexs-container"></div>
                <div id="jeda-dexs-container"></div>

            </fieldset>
        </form>
        <p class="uk-text-right">
            <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
            <button id="save-settings-btn" class="uk-button uk-button-primary uk-modal-close" type="button">Save</button>
        </p>
    </div>
</div>


<!-- JavaScript Libraries -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit-icons.min.js"></script>

<!-- Main Application Script -->
<script type="module" src="app.js"></script>

</body>
</html>
