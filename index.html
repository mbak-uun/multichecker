<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiscanner Refactored</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/css/uikit.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <link rel="stylesheet" href="style.css">
    <link id="favicon" rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/16769/16769999.png">
</head>
<body>
<div class="uk-container uk-margin-small-top uk-background-a">
    <!-- Header Card -->
    <div class="uk-card uk-card-default uk-margin-small header-card uk-card-hover">
        <div class="uk-grid-small uk-flex-middle" uk-grid>
            <div class="uk-width-expand@s uk-width-1-1">
                <div class="uk-flex uk-flex-middle uk-flex-wrap">
                    <h3 id="judul" class="uk-margin-remove" style="font-size: 18px; line-height: 1.2; color: #000; font-weight: bold;">
                        MULTISCANNER
                        <img src="https://coopsugar.org/storage/2022/03/new.gif" width="24px" />
                    </h3>
                    <span>[ <b><span class="uk-text-danger uk-text-small" id="infoAPP">???</span></b> ]</span>
                </div>
            </div>
            <div class="uk-width-auto@s uk-width-1-1">
                <div class="uk-flex uk-flex-middle uk-flex-wrap uk-flex-right@s" style="gap: 6px;">
                    <a href="index.html"><img class="icon" title="MULTISCANNER" width="24px" src="https://cdn-icons-png.flaticon.com/512/30/30279.png" /></a>
                    <img class="icon" id="SettingConfig" title="CONFIG SCANNER" width="24px" src="https://cdn-icons-png.flaticon.com/512/1170/1170635.png" />
                    <img class="icon" id="UpdateWalletCEX" title="UPDATE WALLET CEX" width="24px" src="https://images.freeimages.com/fic/images/icons/2770/ios_7_icons/512/wallet.png" />
                    <a href="modal.html" target="_blank"><img class="icon" title="MANAJEMEN ASSET" width="24px" src="https://cdn-icons-png.flaticon.com/512/1194/1194711.png" /></a>
                    <a href="https://cors-anywhere.herokuapp.com/corsdemo" target="_blank"><img class="icon" title="BUKA AKSES" width="24px" src="https://cdn-icons-png.flaticon.com/512/9921/9921748.png" /></a>
                    <img class="icon" id="reload" title="RESET PROSES" width="24px" src="https://cdn-icons-png.flaticon.com/512/585/585603.png" />
                    <a href="#" target="_blank" id="ManajemenKoin">
                        <img title="MANAJEMEN KOIN" src="https://cdn-icons-png.flaticon.com/512/5172/5172584.png" width="24px" />
                    </a>
                    <a href="memory.html" target="_blank">
                        <img title="MANAJEMEN MEMORY" src="https://cdn-icons-png.flaticon.com/512/6736/6736817.png" width="24px" />
                    </a>
                    <a href="#" class="icon" onclick="downloadTokenScannerCSV()" title="DOWNLOAD DATA KOIN">
                        <img src="https://cdn-icons-png.flaticon.com/512/157/157921.png" width="24px" />
                    </a>
                    <label for="uploadJSON" title="IMPORT DATA KOIN" style="cursor:pointer;">
                        <img src="https://cdn-icons-png.flaticon.com/512/219/219431.png" width="24px" />
                    </label>
                    <input type="file" id="uploadJSON" accept=".csv,text/csv" style="display:none;" onchange="uploadTokenScannerCSV(event)">
                    <img class="icon" id="darkModeToggle" title="Ganti Mode Gelap/Terang" width="24px" src="https://cdn-icons-png.flaticon.com/512/3751/3751403.png" />
                </div>
            </div>
        </div>
    </div>

    <!-- Scanner Config Card -->
    <div class="uk-card uk-card-default uk-padding-small uk-card-hover" id="scanner-config" style="border: 1px solid; background-color: #ececec;">
        <div class="uk-grid-small uk-flex-middle" uk-grid>
            <div class="uk-width-1-1">
                <form id="FormScanner" class="uk-flex uk-flex-middle uk-flex-wrap uk-grid-small" uk-grid>
                    <div id="chain-options" class="uk-form-controls uk-flex"></div>
                    <div id="cex-filter" class="uk-form-controls uk-flex uk-margin-small-left"></div>
                    <span class="uk-text-secondary uk-text-bolder">SCANNER:</span>
                    <label><input class="uk-checkbox posisi-check" type="checkbox" value="Actionkiri" checked> <span class="uk-text-success uk-form-label">KIRI</span></label>
                    <label><input class="uk-checkbox posisi-check" type="checkbox" value="ActionKanan" checked> <span class="uk-text-success uk-form-label">KANAN</span></label>
                    <label><input class="uk-checkbox vol-check" id="checkVOL" type="checkbox"> <span class="uk-text-danger uk-form-label">VOL CHECK</span></label>
                    <div class="uk-button-group">
                        <label class="uk-button uk-button-small uk-button-default toggle-radio sort-toggle active" data-sort="opt_A"><input class="uk-hidden" type="radio" name="toggle" value="opt_A" checked> A-Z</label>
                        <label class="uk-button uk-button-small uk-button-default toggle-radio sort-toggle" data-sort="opt_B"><input class="uk-hidden" type="radio" name="toggle" value="opt_B"> Z-A</label>
                    </div>
                    <div class="uk-button-group">
                        <button type="button" id="startSCAN" class="uk-button uk-button-secondary uk-button-small">START</button>
                        <button type="button" id="stopSCAN" style="display: none;" class="uk-button uk-button-danger uk-button-small">STOP</button>
                    </div>
                </form>
            </div>
            <div class="uk-width-1-1 uk-margin-remove-top">
                <div id="progress-container"><div id="progress-bar"><span id="progress-text">0%</span></div></div>
                <div id="progress" class="uk-margin-remove" style="font-size: 12px; font-weight: bold; color: green;"></div>
            </div>
        </div>
    </div>

    <!-- DEX Signal Display -->
    <div class="uk-text uk-text-small uk-margin-small-top" id="sinyal-container"></div>

    <!-- Token Pair Table Header -->
    <div class="uk-grid-small uk-flex uk-flex-middle uk-margin-small-top" uk-grid id="header-table">
        <div class="uk-width-expand">
            <h4 class="uk-heading-line uk-margin-remove" id="daftar">
                <span style="font-size:medium;">DAFTAR TOKEN PAIR :: (<span id="tokenCountALL" class="token-count">0</span>)</span>
            </h4>
        </div>
        <div class="uk-width-auto uk-flex uk-flex-middle">
            <input class="form-check-input me-1" type="checkbox" id="autoScrollCheckbox">
            <label class="form-check-label uk-text-warning" for="autoScrollCheckbox">Auto Scroll</label>
            &nbsp;&nbsp;&nbsp;
            <input type="text" id="searchInput" class="uk-input uk-form-small uk-form-primary uk-form-width-small" placeholder="Cari Koin...">
        </div>
    </div>

    <!-- Main Data Table -->
    <div class="uk-overflow-auto uk-margin-small-top ">
        <table class="uk-table uk-table-hover uk-table-small uk-table-striped" style="border-collapse: collapse; width: 100%;">
            <thead style="background: #5c9514;">
                <tr>
                    <th rowspan="2" class="uk-text-center uk-text-bolder" style="color: white !important;">ORDERBOOK</th>
                    <th colspan="4" class="uk-text-center uk-text-bolder" style="color: white !important;">CEX → DEX</th>
                    <th rowspan="2" class="uk-text-center uk-text-bolder" style="color: white !important;">DETAIL TOKEN</th>
                    <th colspan="4" class="uk-text-center uk-text-bolder" style="color: white !important;">DEX → CEX</th>
                    <th rowspan="2" class="uk-text-center uk-text-bolder" style="color: white !important;">ORDERBOOK</th>
                </tr>
            </thead>
            <tbody id="dataTableBody"></tbody>
        </table>
    </div>

    <!-- Token Management Section -->
    <section id="token-management" style="display: none;" class="uk-card uk-card-default uk-card-hover uk-margin-small-top uk-padding-small">
        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small">
            <div class="uk-width-expand">
                <h4 class="uk-margin-remove uk-heading-line" id="judulmanajemenkoin">Manajemen KOIN</h4>
            </div>
            <div class="uk-flex uk-flex-middle" style="gap:6px;">
                <button id="btnNewToken" class="uk-button uk-button-primary uk-button-small">+ Add KOIN</button>
                <input id="searchMgr" class="uk-input uk-form-small uk-form-width-medium" placeholder="Cari koin...">
            </div>
        </div>
        <div class="uk-overflow-auto" style="max-height:100vh;">
            <table class="uk-table uk-table-striped uk-table-divider">
                <thead>
                    <tr>
                        <th style="width:46px">No</th>
                        <th>Symbol Token / Pair</th>
                        <th>Chain & Status</th>
                        <th>Exchanger</th>
                        <th>DEX & Modal [KIRI | KANAN]</th>
                        <th style="width:130px">Action</th>
                    </tr>
                </thead>
                <tbody id="mgrTbody"></tbody>
            </table>
        </div>
    </section>
</div>

<!-- Modals -->
<div id="modal-setting" class="uk-modal-full" uk-modal>
    <!-- Modal content remains the same -->
</div>
<div id="FormEditKoinModal" uk-modal>
    <!-- Modal content remains the same -->
</div>

<!-- Core Libraries -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit-icons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.70.0/lib/index.iife.min.js"></script>

<!-- App Configuration -->
<script src="js/config/chains.js"></script>
<script src="js/config/cex.js"></script>
<script src="js/config/dex.js"></script>
<script src="js/config/stablecoins.js"></script>

<!-- App Core Modules -->
<script src="js/helpers/storage.js"></script>
<script src="js/helpers/utils.js"></script>
<script src="js/state.js"></script>
<script src="js/api/security.js"></script>
<script src="js/api/api.js"></script>

<!-- CEX Modules -->
<script src="js/cex/binance.js"></script>
<script src="js/cex/gate.js"></script>
<script src="js/cex/indodax.js"></script>
<script src="js/cex/mexc.js"></script>

<!-- DEX Modules -->
<script src="js/dex/oneinch.js"></script>
<script src="js/dex/odos.js"></script>
<script src="js/dex/zerox.js"></script>
<script src="js/dex/kyberswap.js"></script>
<script src="js/dex/okx.js"></script>
<script src="js/dex/jupiter.js"></script>
<script src="js/dex/lifi.js"></script>

<!-- UI and Main Logic -->
<script src="js/ui.js"></script>
<script src="js/main.js"></script>

</body>
</html>
