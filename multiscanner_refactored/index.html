<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiscanner</title>
    <!-- External Libs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/css/uikit.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <!-- App CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link id="favicon" rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/16769/16769999.png">
</head>
<body>
<div class="uk-container uk-margin-small-top uk-background-a">
    <!-- Header -->
    <div class="uk-card uk-card-default uk-margin-small header-card uk-card-hover">
        <div class="uk-grid-small uk-flex-middle" uk-grid>
            <div class="uk-width-expand@s uk-width-1-1">
                <h3 class="uk-margin-remove" style="font-size: 18px; font-weight: bold;">MULTISCANNER</h3>
                <span>[ <b><span class="uk-text-danger uk-text-small" id="infoAPP">Loading...</span></b> ]</span>
            </div>
            <div class="uk-width-auto@s uk-width-1-1">
                <div class="uk-flex uk-flex-middle uk-flex-wrap uk-flex-right@s" style="gap: 6px;">
                    <a href="index.html"><img class="icon" title="MULTISCANNER" width="24px" src="https://cdn-icons-png.flaticon.com/512/30/30279.png" /></a>
                    <img class="icon" id="SettingConfig" title="CONFIG SCANNER" width="24px" src="https://cdn-icons-png.flaticon.com/512/1170/1170635.png" />
                    <img class="icon" id="UpdateWalletCEX" title="UPDATE WALLET CEX" width="24px" src="https://images.freeimages.com/fic/images/icons/2770/ios_7_icons/512/wallet.png" />
                    <a href="pages/modal.html" target="_blank"><img class="icon" title="MANAJEMEN ASSET" width="24px" src="https://cdn-icons-png.flaticon.com/512/1194/1194711.png" /></a>
                    <a href="https://cors-anywhere.herokuapp.com/corsdemo" target="_blank"><img class="icon" title="BUKA AKSES" width="24px" src="https://cdn-icons-png.flaticon.com/512/9921/9921748.png" /></a>
                    <img class="icon" id="reload" title="RESET PROSES" width="24px" src="https://cdn-icons-png.flaticon.com/512/585/585603.png" />
                    <a href="#" id="ManajemenKoin"><img title="MANAJEMEN KOIN" src="https://cdn-icons-png.flaticon.com/512/5172/5172584.png" width="24px" /></a>
                    <a href="pages/memory.html" target="_blank"><img title="MANAJEMEN MEMORY" src="https://cdn-icons-png.flaticon.com/512/6736/6736817.png" width="24px" /></a>
                    <a href="#" class="icon" id="downloadCsvBtn" title="DOWNLOAD DATA KOIN"><img src="https://cdn-icons-png.flaticon.com/512/157/157921.png" width="24px" /></a>
                    <label for="uploadJSON" title="IMPORT DATA KOIN" style="cursor:pointer;"><img src="https://cdn-icons-png.flaticon.com/512/219/219431.png" width="24px" /></label>
                    <input type="file" id="uploadJSON" accept=".csv,text/csv" style="display:none;">
                    <img class="icon" id="darkModeToggle" title="Ganti Mode Gelap/Terang" width="24px" src="https://cdn-icons-png.flaticon.com/512/3751/3751403.png" />
                </div>
            </div>
        </div>
    </div>

    <!-- Scanner Config -->
    <div class="uk-card uk-card-default uk-padding-small uk-card-hover" id="scanner-config">
        <div class="uk-grid-small uk-flex-middle" uk-grid>
            <div class="uk-width-1-1">
                <form id="FormScanner" class="uk-flex uk-flex-middle uk-flex-wrap uk-grid-small" uk-grid>
                    <div id="chain-options" class="uk-form-controls uk-flex"></div>
                    <div id="cex-filter" class="uk-form-controls uk-flex uk-margin-small-left"></div>
                    <span class="uk-text-secondary uk-text-bolder">SCANNER:</span>
                    <label><input class="uk-checkbox posisi-check" id="checkKIRI" type="checkbox" value="Actionkiri" checked><span class="uk-text-success uk-form-label">KIRI</span></label>
                    <label><input class="uk-checkbox posisi-check" id="checkKANAN" type="checkbox" value="ActionKanan" checked><span class="uk-text-success uk-form-label">KANAN</span></label>
                    <label><input class="uk-checkbox vol-check" id="checkVOL" type="checkbox"><span class="uk-text-danger uk-form-label">VOL CHECK</span></label>
                    <div class="uk-button-group">
                        <label class="uk-button uk-button-small uk-button-default toggle-radio sort-toggle active" data-sort="opt_A"><input class="uk-hidden" type="radio" name="toggle" value="opt_A" checked> A-Z</label>
                        <label class="uk-button uk-button-small uk-button-default toggle-radio sort-toggle" data-sort="opt_B"><input class="uk-hidden" type="radio" name="toggle" value="opt_B"> Z-A</label>
                    </div>
                    <div class="uk-button-group">
                        <button type="button" id="startSCAN" class="uk-button uk-button-secondary uk-button-small">START</button>
                        <button type="button" id="stopSCAN" style="display: none;" class="uk-button uk-button-danger uk-button-small">STOP</button>
                    </div>
                </form>
            </div>
            <div class="uk-width-1-1 uk-margin-remove-top">
                <div id="progress-container"><div id="progress-bar"><span id="progress-text">0%</span></div></div>
                <div id="progress" class="uk-margin-remove" style="font-size: 12px; font-weight: bold; color: green;"></div>
            </div>
        </div>
    </div>

    <!-- Sinyal Container -->
    <div class="uk-text uk-text-small uk-margin-small-top" id="sinyal-container"></div>

    <!-- Table Header -->
    <div class="uk-grid-small uk-flex uk-flex-middle uk-margin-small-top" uk-grid id="header-table">
        <div class="uk-width-expand">
            <h4 class="uk-heading-line uk-margin-remove"><span>DAFTAR TOKEN PAIR :: (<span id="tokenCountALL">0</span>)</span></h4>
        </div>
        <div class="uk-width-auto uk-flex uk-flex-middle">
            <input type="checkbox" id="autoScrollCheckbox"><label class="uk-text-warning" for="autoScrollCheckbox">Auto Scroll</label>
            &nbsp;&nbsp;&nbsp;
            <input type="text" id="searchInput" class="uk-input uk-form-small uk-form-width-small" placeholder="Cari Koin...">
        </div>
    </div>

    <!-- Main Table -->
    <div class="uk-overflow-auto uk-margin-small-top">
        <table class="uk-table uk-table-hover uk-table-small uk-table-striped" style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr style="border-bottom: 1px solid black;">
                    <th rowspan="2">ORDERBOOK</th>
                    <th colspan="4">CEX → DEX</th>
                    <th rowspan="2">DETAIL TOKEN</th>
                    <th colspan="4">DEX → CEX</th>
                    <th rowspan="2">ORDERBOOK</th>
                </tr>
            </thead>
            <tbody id="dataTableBody"></tbody>
        </table>
    </div>

    <!-- Token Management Section -->
    <section id="token-management" style="display: none;" class="uk-card uk-card-default uk-card-hover uk-margin-small-top uk-padding-small">
        <div class="uk-flex uk-flex-between uk-flex-middle uk-margin-small">
            <h4 class="uk-margin-remove uk-heading-line">Manajemen KOIN</h4>
            <div class="uk-flex uk-flex-middle" style="gap:6px;">
                <button id="btnNewToken" class="uk-button uk-button-primary uk-button-small">+ Add KOIN</button>
                <input id="searchMgr" class="uk-input uk-form-small uk-form-width-medium" placeholder="Cari koin...">
            </div>
        </div>
        <div class="uk-overflow-auto" style="max-height:100vh;">
            <table class="uk-table uk-table-striped uk-table-divider">
                <thead>
                    <tr>
                        <th>No</th><th>Symbol Token / Pair</th><th>Chain & Status</th><th>Exchanger</th><th>DEX & Modal [KIRI | KANAN]</th><th>Action</th>
                    </tr>
                </thead>
                <tbody id="mgrTbody"></tbody>
            </table>
        </div>
    </section>

</div>

<!-- Modals -->
<div id="modal-setting" class="uk-modal-full" uk-modal>
    <div class="uk-modal-dialog">
        <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
        <div class="uk-modal-header"><h2 class="uk-modal-title">:: SETTING JEDA & SCANNER</h2></div>
        <div class="uk-modal-body">
            <form>
                <div class="uk-grid-small" uk-grid>
                    <div class="uk-width-1-2">
                        <div class="uk-card uk-card-default uk-card-body">
                            <h3>JEDA CEX</h3><div id="cex-checkbox-group"></div><hr>
                            <h3>JEDA DEX</h3><div id="dex-checkbox-group"></div>
                        </div>
                    </div>
                    <div class="uk-width-1-2">
                        <div class="uk-card uk-card-default uk-card-body">
                            <h3>:: SETINGAN SCANNER</h3>
                            <label>NICK NAME:</label><input type="text" id="user" class="uk-input" required>
                            <div class="uk-flex uk-flex-middle uk-margin">
                                <div style="flex:1;">
                                    <label class="uk-text-danger">KOIN/GRUP:</label>
                                    <label><input class="uk-radio" type="radio" value="7" name="koin-group"> 7</label>
                                    <label><input class="uk-radio" type="radio" value="5" checked name="koin-group"> 5</label>
                                    <label><input class="uk-radio" type="radio" value="4" name="koin-group"> 4</label>
                                </div>
                                <div style="flex:1; margin-left: 24px;">
                                    <label class="uk-text-danger">WAKTU TUNGGU:</label>
                                    <label><input class="uk-radio" type="radio" value="2" name="waktu-tunggu"> NORMAL</label>
                                    <label><input class="uk-radio" type="radio" value="1.5" name="waktu-tunggu"> MEDIUM</label>
                                    <label><input class="uk-radio" type="radio" value="1" checked name="waktu-tunggu"> FAST</label>
                                </div>
                            </div>
                            <div><label class="uk-text-warning">FILTER PNL</label><input class="uk-input" type="number" id="inFilterPNL" value="2" name="filterpnl"></div>
                            <div class="uk-flex uk-flex-middle uk-margin">
                                <div style="flex:1; margin-right: 8px;"><label>JEDA / GROUP {ms}</label><input class="uk-input" id="jeda-time-group" type="number" value="1500"></div>
                                <div style="flex:1;"><label>JEDA / KOIN {ms}</label><input class="uk-input" id="jeda-koin" type="number" value="500"></div>
                            </div>
                            <div><label class="uk-text-danger">WALLET ADDRESS</label><input class="uk-input" type="text" id="walletMeta" name="walletMeta"></div>
                            <p class="uk-text-right uk-margin-top">
                                <button class="uk-button uk-button-default uk-modal-close" type="button">Tutup</button>
                                <button type="button" id="btn-save-setting" class="uk-button uk-button-primary">SIMPAN</button>
                            </p>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="FormEditKoinModal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body uk-padding-small">
        <h4 class="uk-modal-title">FORM Token & Pair</h4>
        <form id="multiTokenForm" class="uk-form-stacked">
            <!-- Form content remains the same -->
        </form>
    </div>
</div>

<!-- External Libs JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.6.22/js/uikit-icons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.70.0/lib/index.iife.min.js"></script>

<!-- App JS -->
<script src="js/config.js"></script>
<script type="module" src="js/main.js"></script>

</body>
</html>
